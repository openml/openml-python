<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Benchmark suites &#8212; OpenML 0.15.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-sphinx.css?v=284a2d1d" />
    <link rel="stylesheet" type="text/css" href="../../_static/codehighlightstyle.css?v=180e76fa" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery.css?v=d2d258e8" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js?v=97b2f34b"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=4825356b"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../../_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>

  </head><body>
  
  <a href="https://github.com/openml/openml-python"
     class="visible-desktop hidden-xs"><img
    id="gh-banner"
    style="position: absolute; top: 50px; right: 0; border: 0;"
    src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"
    alt="Fork me on GitHub"></a>
  <script>
    // Adjust banner height.
    $(function () {
      var navHeight = $(".navbar .container").css("height");
      $("#gh-banner").css("top", navHeight);
    });
  </script>


  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html">
          OpenML</a>
        <span class="navbar-text navbar-version pull-left"><b>0.15.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../../index.html">Start</a></li>
                <li><a href="../../usage.html">User Guide</a></li>
                <li><a href="../../api.html">API</a></li>
                <li><a href="../index.html">Examples</a></li>
                <li><a href="../../extensions.html">Extensions</a></li>
                <li><a href="../../contributing.html">Contributing</a></li>
                <li><a href="../../progress.html">Changelog</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"></ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul>
<li><a class="reference internal" href="#">Benchmark suites</a><ul>
<li><a class="reference internal" href="#listing-suites">Listing suites</a><ul>
<li><a class="reference internal" href="#downloading-suites">Downloading suites</a></li>
<li><a class="reference internal" href="#uploading-suites">Uploading suites</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    <div class="body col-md-9 content" role="main">
      
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="#sphx-glr-download-examples-30-extended-suites-tutorial-py"><span class="std std-ref">Go to the end</span></a>
to download the full example code.</p>
</div>
<section class="sphx-glr-example-title" id="benchmark-suites">
<span id="sphx-glr-examples-30-extended-suites-tutorial-py"></span><h1>Benchmark suites<a class="headerlink" href="#benchmark-suites" title="Permalink to this heading">¶</a></h1>
<p>How to list, download and upload benchmark suites.</p>
<p>If you want to learn more about benchmark suites, check out our
brief introductory tutorial <a class="reference internal" href="../20_basic/simple_suites_tutorial.html#sphx-glr-examples-20-basic-simple-suites-tutorial-py"><span class="std std-ref">Benchmark suites</span></a> or the
<a class="reference external" href="https://docs.openml.org/benchmark/#benchmarking-suites">OpenML benchmark docs</a>.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># License: BSD 3-Clause</span>

<span class="kn">import</span> <span class="nn">uuid</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="kn">import</span> <span class="nn">openml</span>
</pre></div>
</div>
<section id="listing-suites">
<h2>Listing suites<a class="headerlink" href="#listing-suites" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>Use the output_format parameter to select output type</p></li>
<li><p>Default gives <code class="docutils literal notranslate"><span class="pre">dict</span></code>, but we’ll use <code class="docutils literal notranslate"><span class="pre">dataframe</span></code> to obtain an
easier-to-work-with data structure</p></li>
</ul>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">suites</span> <span class="o">=</span> <span class="n">openml</span><span class="o">.</span><span class="n">study</span><span class="o">.</span><span class="n">list_suites</span><span class="p">(</span><span class="n">output_format</span><span class="o">=</span><span class="s2">&quot;dataframe&quot;</span><span class="p">,</span> <span class="n">status</span><span class="o">=</span><span class="s2">&quot;all&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">suites</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">10</span><span class="p">))</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>      id                             alias  ...        creation_date creator
14    14                         OpenML100  ...  2019-02-21 18:40:13       1
99    99                       OpenML-CC18  ...  2019-02-21 18:47:13       1
218  218                  AutoML-Benchmark  ...  2019-05-02 13:35:08     869
219  219                             FOREX  ...  2019-06-04 00:45:17       1
225  225                   OpenML-friendly  ...  2019-09-16 19:41:46       1
236  236  a9ee1f0b2a4b48b6b6da1653fe92890e  ...  2020-04-06 21:38:55      64
239  239  c638a5d3d31241179f9b4853951fdb79  ...  2020-04-19 22:15:30      64
240  240  e5e7f56c8655433eb2418c240ec8b8c0  ...  2020-04-28 02:30:38    2902
253  253                         testecc18  ...  2020-09-01 00:57:54    8598
258  258                               NaN  ...  2020-09-30 08:30:00    8598

[10 rows x 7 columns]
</pre></div>
</div>
<section id="downloading-suites">
<h3>Downloading suites<a class="headerlink" href="#downloading-suites" title="Permalink to this heading">¶</a></h3>
<p>This is done based on the dataset ID.
<a class="reference external" href="https://www.openml.org/api/v1/study/99">https://www.openml.org/api/v1/study/99</a></p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">suite</span> <span class="o">=</span> <span class="n">openml</span><span class="o">.</span><span class="n">study</span><span class="o">.</span><span class="n">get_suite</span><span class="p">(</span><span class="s2">&quot;OpenML-CC18&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">suite</span><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>OpenML Benchmark Suite
======================
ID..............: 99
Name............: OpenML-CC18 Curated Classification benchmark
Status..........: active
Main Entity Type: task
Study URL.......: https://www.openml.org/s/99
# of Data.......: 72
# of Tasks......: 72
Creator.........: https://www.openml.org/u/1
Upload Time.....: 2019-02-21 18:47:13
</pre></div>
</div>
<p>Suites also feature a description:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">suite</span><span class="o">.</span><span class="n">description</span><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>We advocate the use of curated, comprehensive benchmark suites of machine learning datasets, backed by standardized OpenML-based interfaces and complementary software toolkits written in Python, Java and R. We demonstrate how to easily execute comprehensive benchmarking studies using standardized OpenML-based benchmarking suites and complementary software toolkits written in Python, Java and R. Major distinguishing features of OpenML benchmark suites are (i) ease of use through standardized data formats, APIs, and existing client libraries; (ii) machine-readable meta-information regarding the contents of the suite; and (iii) online sharing of results, enabling large scale comparisons. As a first such suite, we propose the OpenML-CC18, a machine learning benchmark suite of 72 classification datasets carefully curated from the thousands of datasets on OpenML.

The inclusion criteria are:
* classification tasks on dense data set
independent observations
* number of classes larger or equal to 2, each class with at least 20 observations and ratio of minority to majority class must exceed 5%
* number of observations between 500 and 100000
* number of features after one-hot-encoding less than 5000
* no artificial data sets
* no subsets of larger data sets nor binarizations of other data sets
* no data sets which are perfectly predictable by using a single feature or by using a simple decision tree
* source or reference available


If you use this benchmarking suite, please cite:

Bernd Bischl, Giuseppe Casalicchio, Matthias Feurer, Frank Hutter, Michel Lang, Rafael G. Mantovani, Jan N. van Rijn and Joaquin Vanschoren. “OpenML Benchmarking Suites” arXiv:1708.03731v2 [stats.ML] (2019).

```
@article{oml-benchmarking-suites,
      title={OpenML Benchmarking Suites},
      author={Bernd Bischl and Giuseppe Casalicchio and Matthias Feurer and Frank Hutter and Michel Lang and Rafael G. Mantovani and Jan N. van Rijn and Joaquin Vanschoren},
      year={2019},
      journal={arXiv:1708.03731v2 [stat.ML]}
}
```
</pre></div>
</div>
<p>Suites are a container for tasks:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">suite</span><span class="o">.</span><span class="n">tasks</span><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>[3, 6, 11, 12, 14, 15, 16, 18, 22, 23, 28, 29, 31, 32, 37, 43, 45, 49, 53, 219, 2074, 2079, 3021, 3022, 3481, 3549, 3560, 3573, 3902, 3903, 3904, 3913, 3917, 3918, 7592, 9910, 9946, 9952, 9957, 9960, 9964, 9971, 9976, 9977, 9978, 9981, 9985, 10093, 10101, 14952, 14954, 14965, 14969, 14970, 125920, 125922, 146195, 146800, 146817, 146819, 146820, 146821, 146822, 146824, 146825, 167119, 167120, 167121, 167124, 167125, 167140, 167141]
</pre></div>
</div>
<p>And we can use the task listing functionality to learn more about them:</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">tasks</span> <span class="o">=</span> <span class="n">openml</span><span class="o">.</span><span class="n">tasks</span><span class="o">.</span><span class="n">list_tasks</span><span class="p">(</span><span class="n">output_format</span><span class="o">=</span><span class="s2">&quot;dataframe&quot;</span><span class="p">)</span>

<span class="c1"># Using ``@`` in `pd.DataFrame.query &lt;</span>
<span class="c1"># https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.query.html&gt;`_</span>
<span class="c1"># accesses variables outside of the current dataframe.</span>
<span class="n">tasks</span> <span class="o">=</span> <span class="n">tasks</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s2">&quot;tid in @suite.tasks&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">tasks</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span><span class="o">.</span><span class="n">transpose</span><span class="p">())</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>                                    count          mean  ...       75%       max
tid                                  72.0  41849.305556  ...  42707.50  167141.0
did                                  72.0  10472.263889  ...  10594.25   41027.0
MajorityClassSize                    72.0   4820.166667  ...   2796.00   48658.0
MaxNominalAttDistinctValues          71.0      8.718310  ...     10.00      71.0
MinorityClassSize                    72.0   2199.777778  ...   1326.50   47662.0
NumberOfClasses                      72.0      5.680556  ...      8.25      46.0
NumberOfFeatures                     72.0    196.597222  ...     71.50    3073.0
NumberOfInstances                    72.0  12148.972222  ...   6771.75   96320.0
NumberOfInstancesWithMissingValues   72.0    121.347222  ...      0.00    3772.0
NumberOfMissingValues                72.0    226.597222  ...      0.00    6465.0
NumberOfNumericFeatures              72.0    166.875000  ...     64.00    3072.0
NumberOfSymbolicFeatures             72.0     29.722222  ...      5.25    1556.0
target_feature_left                   0.0           NaN  ...       NaN       NaN

[13 rows x 8 columns]
</pre></div>
</div>
<p>We’ll use the test server for the rest of this tutorial.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This example uploads data. For that reason, this example connects to the test server at test.openml.org.
This prevents the main server from crowding with example datasets, tasks, runs, and so on.
The use of this test server can affect behaviour and performance of the OpenML-Python API.</p>
</div>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">openml</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">start_using_configuration_for_example</span><span class="p">()</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>/home/runner/work/openml-python/openml-python/examples/30_extended/suites_tutorial.py:67: UserWarning: Switching to the test server https://test.openml.org/api/v1/xml to not upload results to the live server. Using the test server may result in reduced performance of the API!
  openml.config.start_using_configuration_for_example()
</pre></div>
</div>
</section>
<section id="uploading-suites">
<h3>Uploading suites<a class="headerlink" href="#uploading-suites" title="Permalink to this heading">¶</a></h3>
<p>Uploading suites is as simple as uploading any kind of other OpenML
entity - the only reason why we need so much code in this example is
because we upload some random data.</p>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="c1"># We&#39;ll take a random subset of at least ten tasks of all available tasks on</span>
<span class="c1"># the test server:</span>
<span class="n">all_tasks</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">openml</span><span class="o">.</span><span class="n">tasks</span><span class="o">.</span><span class="n">list_tasks</span><span class="p">(</span><span class="n">output_format</span><span class="o">=</span><span class="s2">&quot;dataframe&quot;</span><span class="p">)[</span><span class="s2">&quot;tid&quot;</span><span class="p">])</span>
<span class="n">task_ids_for_suite</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">all_tasks</span><span class="p">,</span> <span class="n">replace</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">20</span><span class="p">))</span>

<span class="c1"># The study needs a machine-readable and unique alias. To obtain this,</span>
<span class="c1"># we simply generate a random uuid.</span>

<span class="n">alias</span> <span class="o">=</span> <span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">()</span><span class="o">.</span><span class="n">hex</span>

<span class="n">new_suite</span> <span class="o">=</span> <span class="n">openml</span><span class="o">.</span><span class="n">study</span><span class="o">.</span><span class="n">create_benchmark_suite</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Test-Suite&quot;</span><span class="p">,</span>
    <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Test suite for the Python tutorial on benchmark suites&quot;</span><span class="p">,</span>
    <span class="n">task_ids</span><span class="o">=</span><span class="n">task_ids_for_suite</span><span class="p">,</span>
    <span class="n">alias</span><span class="o">=</span><span class="n">alias</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">new_suite</span><span class="o">.</span><span class="n">publish</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">new_suite</span><span class="p">)</span>
</pre></div>
</div>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>/home/runner/work/openml-python/openml-python/openml/tasks/functions.py:286: RuntimeWarning: Could not create task type id for 10 due to error 10 is not a valid TaskType
  procs = _get_estimation_procedure_list()
/home/runner/work/openml-python/openml-python/openml/tasks/functions.py:286: RuntimeWarning: Could not create task type id for 11 due to error 11 is not a valid TaskType
  procs = _get_estimation_procedure_list()
/home/runner/work/openml-python/openml-python/openml/tasks/functions.py:235: RuntimeWarning: Could not create task type id for 11 due to error 11 is not a valid TaskType
  return __list_tasks(api_call=api_call, output_format=output_format)
/home/runner/work/openml-python/openml-python/openml/tasks/functions.py:235: RuntimeWarning: Could not create task type id for 10 due to error 10 is not a valid TaskType
  return __list_tasks(api_call=api_call, output_format=output_format)
OpenML Benchmark Suite
======================
ID..............: 195
Name............: Test-Suite
Status..........: None
Main Entity Type: task
Study URL.......: https://test.openml.org/s/195
# of Tasks......: 20
</pre></div>
</div>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="n">openml</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">stop_using_configuration_for_example</span><span class="p">()</span>
</pre></div>
</div>
<p class="sphx-glr-timing"><strong>Total running time of the script:</strong> (0 minutes 40.725 seconds)</p>
<div class="sphx-glr-footer sphx-glr-footer-example docutils container" id="sphx-glr-download-examples-30-extended-suites-tutorial-py">
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/7da39d2664dd3348316be15a6659e681/suites_tutorial.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">suites_tutorial.ipynb</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/1ad3e73844b6bba64db63f52045fc1ae/suites_tutorial.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">suites_tutorial.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-zip docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/24b82beab127d44b1bc4d22d4c3253c2/suites_tutorial.zip"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">zipped:</span> <span class="pre">suites_tutorial.zip</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</section>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2014-2024, the OpenML-Python team.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 7.1.2.<br/>
    </p>
  </div>
</footer>
  </body>
</html>